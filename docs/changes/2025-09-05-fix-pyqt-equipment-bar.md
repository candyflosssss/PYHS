# 变更记录：修复 PyQt 装备栏逻辑

日期：2025-09-05

修改摘要：
- 在 `src/ui/pyqt/widgets/card.py` 中完善装备栏逻辑：
  - 装备按钮文本显示当前装备名称（无则使用“左手: - / 右手: - / 盔甲: -”）。
  - 若左手为双手武器，右手视为被占用：按钮文本显示占用状态，右手按钮禁用，tooltip 解释原因。
  - 为装备按钮加上 `_is_equipment_slot` 标记，避免被卡片级点击事件误处理。

影响范围：
- 仅影响 PyQt 界面的卡片装备栏显示与交互；Tk 版本不受影响。

风险与回滚方法：
- 风险：按钮禁用逻辑依赖 `item.is_two_handed` 属性；若模型未提供该属性，逻辑将默认为 False，不会禁用右手。
- 回滚：可将 `card.py` 回退到上一版本；或删除本次提交中对 `refresh` 与 `_wire_equipment_buttons` 的改动。

相关文档/测试：
- UI 行为与 Tk 版保持一致，不额外修改文档。
- 建议后续补充无头测试，构造模型（含双手/单手/无装备），断言三个按钮的启用状态与文本。
